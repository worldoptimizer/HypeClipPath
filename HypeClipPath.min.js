/*
 Hype ClipPath 1.7.2
copyright (c) 2021 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeClipPath"in window&&(window.HypeClipPath=function(){function B(a,e,d){var f=a.documentId();n[f]={};a.getCurrentSceneElement=function(){void 0==n[f].currentSceneElm&&(n[f].currentSceneElm=document.querySelector("#"+a.documentId()+' > .HYPE_scene[style*="block"]'));return n[f].currentSceneElm};a.applyClipPaths=function(){for(var b=a.getCurrentSceneElement().querySelectorAll("[data-clip-path]"),c=0;c<b.length;c++)a.applyClipPathToElement(b[c])};a.applyClipPathToElement=function(b){b.dataset.clipPath?
t[b.id]||(t[b.id]=function(){var c=a.getCurrentSceneElement().querySelector(b.dataset.clipPath);c?a.generateClipPathForElement(c,b):v(b)}):v(b)};a.calculateAndStoreTransformForElement=function(b){var c=a.documentId(),g=a.getCurrentSceneElement(),l=n[c][g.id].Transform;c=a.getElementProperty(b,"left");g=a.getElementProperty(b,"top");var k=0,h=0,m=a.getElementProperty(b,"scaleX"),q=a.getElementProperty(b,"scaleY"),p=a.getElementProperty(b,"rotateZ")||0;l[b.id]={left:c,top:g,scaleX:m,scaleY:q,rotateZ:p};
if(0!=p||1!=m||1!=q)k=a.getElementProperty(b,"width"),h=a.getElementProperty(b,"height"),b=b.style.transformOrigin?String(b.style.transformOrigin).split(" "):[50,50],k=k*parseFloat(b[0])/100,h=h*parseFloat(b[1])/100;b=[];if(1!=m||1!=q)b.unshift("scale("+m+" "+q+")"),b.unshift("translate("+-k*(m-1)+" "+-h*(q-1)+")");p&&b.unshift("rotate("+p+" "+k+" "+h+")");b.unshift("translate("+c+" "+g+")");return b.join(" ")};a.generateClipPathForElement=function(b,c){if(b&&c&&b.querySelector("svg")){var g=c.classList.contains("HYPE_element_container")?
c:c.parentNode,l="hype_clip_path_"+c.getAttribute("id")+"_"+b.getAttribute("id"),k=l+"_"+Math.ceil(1E5*Math.random()+1E5);if(b.querySelector("svg > defs"))r&&b.querySelector("svg").appendChild(b.querySelector("svg > defs"));else{var h=b.querySelector("svg"),m=h.appendChild;var q=document.createElementNS("http://www.w3.org/2000/svg","defs");m.call(h,q)}l=b.querySelector("svg > defs > [id^="+l+"]");l||(l=b.querySelector("svg > defs"),h=l.appendChild,m=document.createElementNS("http://www.w3.org/2000/svg",
"clipPath"),q=document.createElementNS("http://www.w3.org/2000/svg","path"),m.appendChild(q),l=h.call(l,m));h={id:k,"shape-rendering":"optimizeSpeed"};m={d:b.querySelector("svg > path").getAttribute("d"),"clip-rule":c.dataset.clipPathClipRule,transform:a.calculateAndStoreTransformForElement(b),"shape-rendering":"optimizeSpeed"};q=l.querySelector("path");for(var p in m)m[p]&&q.setAttribute(p,m[p]);for(p in h)h[p]&&l.setAttribute(p,h[p]);g.style.webkitClipPath='url("#'+k+'")';g.style.clipPath='url("#'+
k+'")';b.dataset.clipPathSelector=c.dataset.clipPath;k=g.style.display;g.style.display="none";void 0!=g.offsetHeight;g.style.display=k;g.style.overflow="hidden";r||b.dataset.clipPathVisible||(b.style.opacity=0,b.style.pointerEvents="none")}}}function y(a,e,d){var f=a.documentId(),b=a.getCurrentSceneElement();f=n[f][b.id].Observer;f[d.mOiD]||(f[d.mOiD]=new MutationObserver(function(c){c.forEach(function(g){d.callback.call(null,a,g)})}));f[d.mOiD].observe(e,d)}function E(a,e){switch(e.attributeName){case "data-clip-path":a:{var d=
e.target.dataset.clipPath;if(d!=e.oldValue)if(d){d=!0;break a}else v(e.target);d=!1}d&&a.applyClipPathToElement(e.target);break;case "data-clip-path-clip-rule":a.applyClipPathToElement(e.target)}}function F(a,e){var d=r?document:a.getCurrentSceneElement();switch(e.attributeName){case "style":a:{var f=a.documentId(),b=a.getCurrentSceneElement();if(f=n[f][b.id].Transform[e.target.id])for(c in f)if(f[c]!=a.getElementProperty(e.target,c)){var c=!0;break a}c=!1}if(c)for(d=d.querySelectorAll('[data-clip-path="'+
e.target.dataset.clipPathSelector+'"]'),c=0;c<d.length;c++)a.applyClipPathToElement(d[c])}}function G(a,e){var d=r?document:a.getCurrentSceneElement();switch(e.attributeName){case "d":var f=e.target.parentNode.parentNode.dataset.clipPathSelector;if(f)for(d=d.querySelectorAll('[data-clip-path="'+f+'"]'),f=0;f<d.length;f++)a.applyClipPathToElement(d[f])}}function v(a){a=a.classList.contains("HYPE_element_container")?a:a.parentNode;a.style.webkitClipPath=null;a.style.clipPath=null}function z(a,e,d){d=
a.documentId();e=a.getCurrentSceneElement();n[d][e.id]||(n[d][e.id]={},n[d][e.id].Observer={},n[d][e.id].Transform={});a.applyClipPaths();d=e.querySelectorAll("[data-clip-path]");w&&window.cancelAnimationFrame(w);if(Object.keys(d).length){for(var f=0;f<d.length;f++)if(!d[f].hasAttribute("data-clip-path-static")||r)if(y(a,d[f],{attributes:!0,attributeOldValue:!0,attributeFilter:["data-clip-path","data-clip-path-clip-rule"],mOiD:d[f].id,callback:E}),d[f].dataset.clipPath){var b=e.querySelector(d[f].dataset.clipPath);
if(b){y(a,b,{attributes:!0,attributeOldValue:!0,attributeFilter:["style"],mOiD:b.id,callback:F});var c=r?'[hypeobjectid="'+b.getAttribute("hypeobjectid")+'"] > svg > path':"#"+b.id+" > svg > path";y(a,document.querySelector(c),{attributes:!0,attributeOldValue:!0,attributeFilter:["d"],mOiD:b.id+"_path",callback:G})}}if(A)var g=1E3/A,l=-1E3,k=function(){if(!x&&(now=performance.now(),elapsed=now-l,elapsed>g)){x=!0;l=now-elapsed%g;for(var h in t)t[h]();t={};x=!1}w=window.requestAnimationFrame(k)};else k=
function(){if(!x){tickRunning=!0;for(var h in t)t[h]();t={};tickRunning=!1}w=window.requestAnimationFrame(k)};r?window.requestAnimationFrame(k):k()}}function C(a,e,d){e=a.documentId();a=a.getCurrentSceneElement();a=n[e][a.id].Observer;for(var f in a)a[f].disconnect(),r&&delete a[f];delete n[e].currentSceneElm}function D(a){var e={},d;for(d in a=a.match(/(\w+)\(([^,)]+),?([^)]+)?\)/gi)){var f=a[d].match(/[\w\.\-]+/g);e[f.shift()]=f}return e}var w,x=!1,t={},r=-1!=window.location.href.indexOf("/Hype/Scratch/HypeScratch."),
n={},A,u=!1;window.CSS&&window.CSS.supports&&(u=CSS.supports("clip-path","url(#test)"));window.addEventListener("DOMContentLoaded",function(a){if(r&&u){var e={getElementProperty:function(b,c){switch(c){case "left":return parseFloat(b.getAttribute("hypeattributeleft"));case "top":return parseFloat(b.getAttribute("hypeattributetop"));case "rotateZ":return parseFloat(b.getAttribute("hypeattributerotationanglez"));case "width":return parseFloat(b.style.width);case "height":return parseFloat(b.style.height);
case "scaleX":var g=D(b.style.transform);return g.scaleX?parseFloat(g.scaleX):1;case "scaleY":return g=D(b.style.transform),g.scaleY?parseFloat(g.scaleY):1}},documentId:function(){return"hypeDocument"}};B(e);e.getCurrentSceneElement=function(){return document.getElementById("HypeMainContentDiv")};z(e);a=function(b){b.forEach(function(c){if("attributes"==c.type&&"style"==c.attributeName){var g=c.target.style.zoom;g&&(c.target.style.zoom=null,c.target.style.transform="scale("+g+", "+g+")",c.target.style.transformOrigin=
"left top")}})};var d=new MutationObserver(a),f=document.getElementById("HypeSceneEditor");d.observe(f,{attributes:!0,attributeOldValue:!0,attributeFilter:["style"]});a([{target:f,type:"attributes",attributeName:"style"}]);(new MutationObserver(function(b){b.forEach(function(c){c.target.hasAttribute("data-clip-path")||v(c.target)});setTimeout(function(){C(e);z(e)},1)})).observe(e.getCurrentSceneElement(),{attributes:!0,attributeOldValue:!0,subtree:!0,attributeFilter:["data-clip-path"]})}else u||(document.styleSheets[0].insertRule(".hideIfClipPathNotSupported {display:none!important;}",
0),document.styleSheets[0].insertRule(".showIfClipPathNotSupported {display:block!important;}",1))});u&&(!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]),window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:B}),window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:z}),window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:C}));return{version:"1.7.2",supportsClipPath:function(){return u},setFramesPerSecond:function(a){a=parseInt(a);A=0<a&&60>a?a:
null}}}());